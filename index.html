<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Zifei Lee | CDUT Geophysics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
<style>
    /* 1. 模拟以撒地牢背景 */
    body { 
        background-color: #0b0b0b; 
        /* 这里的背景图是 wiki.gg 常用的平铺石砖纹理感 */
        background-image: url('https://static.wikia.nocookie.net/bindingofisaacre_gamepedia/images/b/b2/Site-background-light/revision/latest');
        background-attachment: fixed;
        margin: 0;
        padding: 0;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }

    /* 2. 核心容器：还原 wiki.gg 的像素质感边框 */
    .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 1000px;
        margin: 40px auto;
        padding: 40px;
        background-color: #1c1c1c; 
        /* 以撒维基标志性的金色/紫色细边框 */
        border: 2px solid #3a3a3a;
        outline: 4px solid #1c1c1c; /* 模拟外层重影边框 */
        box-shadow: 0 0 20px rgba(0,0,0,0.8);
        color: #f0f0f0 !important;
    }

    /* 3. 还原 Wiki 标题：带背景色的色块 */
    .markdown-body h1, .markdown-body h2 {
        background: linear-gradient(to right, #2a2a2a, transparent);
        border-bottom: 2px solid #59acff !important; /* 以撒维基的蓝色分割线 */
        padding: 5px 15px !important;
        margin-left: -15px;
        margin-right: -15px;
        color: #fff !important;
        text-shadow: 1px 1px 2px #000;
    }

    /* 4. 链接样式：亮紫色/蓝色 */
    .markdown-body a { color: #a585ff !important; text-decoration: none; font-weight: bold; }
    .markdown-body a:hover { color: #d0c0ff !important; text-decoration: underline; }

    /* 5. 修正：深色背景表格 + 亮色文字 */
    .markdown-body table {
        border: 2px solid #3a3a3a !important;
        /* 核心修改：确保背景是极深的灰色，而不是白色 */
        background-color: #1a1a1a !important; 
        color: #ffffff !important; 
        width: 100%;
        border-collapse: collapse;
    }

    .markdown-body table th {
        /* 表头背景稍亮一点点 */
        background-color: #2a2a2a !important; 
        border: 1px solid #3a3a3a !important;
        color: #59acff !important; /* 经典的以撒蓝 */
        font-weight: bold;
    }

    .markdown-body table td {
        border: 1px solid #3a3a3a !important;
        background-color: transparent !important; /* 跟着表格的大背景走 */
        color: #ffffff !important; 
    }

    /* 隔行换色：让列表更易读 */
    .markdown-body table tr:nth-child(2n) {
        background-color: #222222 !important;
    }

    /* 确保表格内的所有文字（包括加粗和链接）都是可见的 */
    .markdown-body table td p, 
    .markdown-body table td b,
    .markdown-body table td span {
        color: #ffffff !important;
    }

    /* 6. 特殊：给图片加个“道具展示框”感 */
    .markdown-body img { 
        border: 2px solid #444 !important;
        padding: 2px;
        background: #000;
    }
    /* 标题 GIF 保持透明 */
    .markdown-body h1 img, .markdown-body h2 img {
        border: none !important;
        background: transparent !important;
        padding: 0;
    }

    /* 7. 引用块（像游戏里的台词框） */
    .markdown-body blockquote {
        background: #151515 !important;
        border: 1px solid #3a3a3a !important;
        border-left: 5px solid #a585ff !important;
        font-style: italic;
    }

    @media (max-width: 767px) {
        .markdown-body { padding: 15px; margin: 10px; border: none; outline: none; }
    }
</style>
</head>
<body>
    <article id="content" class="markdown-body">Loading Wiki content...</article>

    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
        if (typeof marked === 'undefined') {
            document.getElementById('content').innerHTML = "Error: marked.js blocked.";
        } else {
            fetch('home.md')
                .then(response => {
                    if (!response.ok) throw new Error('home.md not found');
                    return response.text();
                })
                .then(text => {
                    // 渲染 Markdown
                    document.getElementById('content').innerHTML = marked.parse(text);
                    
                    // 后处理：自动给所有图片添加 onerror 保护
                    const imgs = document.querySelectorAll('img');
                    imgs.forEach(img => {
                        img.onerror = function() { this.style.display = 'none'; };
                    });

                    // 触发数学公式渲染
                    if (window.MathJax) { MathJax.typesetPromise(); }
                })
                .catch(err => {
                    document.getElementById('content').innerHTML = "Error: " + err.message;
                });
        }
    </script>
</body>
</html>